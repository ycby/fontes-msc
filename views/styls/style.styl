//Variables
//adjust these first as these are repeatedly used.
// - color
color-main = #2F536F
color-secondary = #7B99B0
color-nav-selected = #F3EBDE
color-nav-hover = #EAEAEA
color-main-text = #545454
color-light-text = #FDFDFD
color-hyperlink = #006E76
color-table-light-background = #FDFDFD
color-table-dark-background = #F3F3F3
color-table-selected = #BEBEBE
color-grey = #707070

// mostly for controlling the varying font sizes of different viewports
// - text
fontsize-base = 12px
fontsize-med = 14px
fontsize-large = 16px
fontsize-nav = 1.125em

// - mixins
//radio button appearance
input-appearance(value)
    -moz-appearance: value
    -webkit-appearance: value
    appearance: value

*
    box-sizing: border-box
    font-family: "Cormorant Garamond", serif
    margin: 0
    padding: 0

body
    font-size: fontsize-base

a
    color: color-hyperlink

input
    input-appearance(none)
//nav
nav
    font-size: fontsize-nav
    box-shadow: -2px 4px 8px -2px rgba(0, 0, 0, 0.4)
    z-index: 2
    background-color: white
    border-bottom: white solid 4px
    height: 8vh
    min-height: 40px
    .icon
        display: none
    .nav-logo
        max-height: 5vh
        margin: 2vh 3vw 0 2vw
    ul
        list-style-type: none
        li
            float: left
            a
                display: block
                padding-top: 4vh
                width: 12vw
                max-width: 150px
                height: calc(8vh - 4px)
                min-height: 36px
                text-align: center
                text-decoration: none
                color: color-main-text
            a:hover:not(.nav-active)
                background-color: color-nav-hover
                transition: background-color 0.3s ease;


.nav-help
    float: right;

.nav-logo
    margin-right: 8%

.nav-active
    background-color: color-nav-selected

#hamburger-menu
    padding-top: 4vh
    width: 12vw
    max-width: 150px
    height: calc(8vh - 4px)
    min-height: 36px
    background-image: url("/images/icons/menu-24px.svg")
    background-position: center
    background-repeat: no-repeat
    display: block

//search section
#search-container
    form
        padding: 8vh 0 4vh
        color: color-light-text
        legend
        label
            font-size: 1.125em
            margin-bottom: 7px
        .form-block
            margin-top: 5px
            label
                display: block
            input
                width: 100%
                padding: 3px 8px 2px
                font-size: 1.25em
            input[type="submit"]
                background-color: white
                margin-top: 15px
                padding: 1vh 2vw
                border: color-grey solid 2px
                cursor: pointer
                outline: none
                &:hover
                    background-color: color-nav-hover
                &:active
                    background-color: color-secondary

        fieldset
            border: none
            label
                text-align: center
                background-color: white
                color: color-main-text
                padding: 3px 3vw
                border: color-grey solid 1px
                &:hover
                    background-color: color-nav-hover
                    cursor: pointer;
            input
                input-appearance(none)
            input:checked+label
                background-color: color-nav-selected
                cursor: default
                pointer-events: none
#submit-container
    vertical-align: top

#search-container-collapser
    background-image: url("/images/icons/arrow_drop_up-24px.svg")
    background-size: 48px
    background-repeat: no-repeat
    background-color: transparent
    background-position: center
    color: rgba(0, 0, 0, 0)
    border: none
    cursor: pointer
    outline: none
    width: 100%
    height: 4vh
    transition: transform 0.2s linear

//have to do this way as something is wrong when trying to do a mixin. escaped adds spaces and not escaped cant compile
.flipped
    -moz-transform: scaleY(-1)
    -webkit-transform: scaleY(-1)
    transform: scaleY(-1)
    transition: transform 0.2s linear

#search-background
    background-color: color-main

#advanced-search
    margin-top: 6vh

//results header section
#search-results-heading-background
    box-shadow: 2px -4px 8px -4px rgba(0, 0, 0, 0.4)
    z-index: 1
#search-results-heading-container
    padding-top: 2vh
    .breadcrumbs
        padding: 0.5vh 0 1vh 0
    h2
    h3
        display: inline-block
        font-weight: normal
    h2
        font-size: 1.1em
    h3
        font-size: 1em
    .selected-texts
        font-weight: bold
    #upper-results-header
        img
            float: right
            width: 16px


//search results container
#search-results-container
    padding: 3vh 0

    .records-information
        float: right
        margin: 8px 0
        span
            display: block
        a
            float: right
            font-size: 0.75em
    .texts-results-table
        width: 100%
        border-collapse: collapse
        table-layout: fixed
        .table-records-number
            text-align: right
        thead
            background-color: color-main
            th
                text-align: left
                font-weight: normal
                color: color-light-text
                padding: 3px 10px 2px
        tbody
            border-bottom: 5px solid color-main
            color: color-main-text
            tr
                cursor: pointer
                background-color: color-table-light-background
                &:nth-child(even)
                    background-color: color-table-dark-background
                &:hover
                    background-color: color-nav-hover
                td
                    padding: 3px 10px 2px
                    a
                        text-decoration: none
                        color: color-main-text
                        display: inline-block
                        width: 100%

    #table-4-col thead th
        &:nth-child(1)
            width: 45%
        &:nth-child(2)
            width: 25%
        &:nth-child(3)
            width: 23%
        &:nth-child(4)
            width: 7%
    #table-3-col thead th
        &:nth-child(1)
            width: 50%
        &:nth-child(2)
            width: 25%
        &:nth-child(3)
            width: 25%
    #table-2-col thead th
        &:nth-child(1)
            width: 85%
        &:nth-child(2)
            width: 15%

//text details
.texts-details
    border: 2px solid color-grey
    & > div
        vertical-align: top
        display: inline-block
        h3
            padding: 3px 5px
.text-label
    padding: 5px 0
    background-color: color-grey
    color: white

//footer here
footer
    margin-top: 5vh
    padding: 3vh 2vw 1.5vh
    background-color: color-main
    color: color-light-text
    font-size: 0.9125em
    div
        ul
            list-style-type: none
            padding-top: 5px
            li
                padding: 3px 0px
            &:nth-child(1)
                text-align: left
            &:nth-child(2)
                text-align: center
            &:nth-child(3)
                text-align: center

//pagination
.pagination
    display: inline-block
    margin: 15px 0 15px
    a
        color: black
        padding: 4px 10px 5px
        text-decoration: none;
        border: 1px solid #707070
        font-size: 0.9em
        &:hover
            background-color: color-nav-hover
    .pagination-active
        background-color: color-secondary
        color: color-light-text
    .pagination-page-links
        font-size: 0.9em
        padding: 4px 10px 5px
    a.pagination-disabled
        background-color: color-grey
        pointer-events: none
        &:hover
            background-color: color-grey

//breadcrumbs
.breadcrumbs
    padding: 8px 16px
    list-style: none
    ul
        li
            display: inline
            a
                font-size: 0.825em
            &+li::before
                padding: 8px
                color: color-grey
                content: "\>"
            &:last-child a
                pointer-events: none
                color: color-main-text
                text-decoration: none

//about
.page-heading
    border-bottom: 3px solid color-grey
    padding: 0 1vw
    margin-top: 4vh

.main-text-content
    margin-top: 2vh
    padding: 0 1vw
    color: color-main-text
    h2
        text-decoration: underline
        margin: 2vh 0 1vh
    ul
        padding: 0.5vh 2vw

//sidebar
#sidebar
    position: sticky;
    border: 2px solid color-main
    margin-top: 4vh
    top: 3vh
    vertical-align: top
    .sidebar-header
        background-color: color-main
        color: color-light-text
        padding: 1vh 1vw
    .sidebar-body
        padding: 1vh 2vw 1vh 1vw
        a
            color: color-main-text
            text-decoration: none
            &:hover
                text-decoration: underline
        ul
            list-style-type: none
            li
                margin-top: 5px
                ul
                    li
                        margin-top: 2px
                        padding-left: 15px
                        font-size: 0.875em

.sidebar-active
    font-weight: bold
    &:hover
        pointer-events: none
        text-decoration: none


//autocomplete from - https://github.com/kraaden/autocomplete/
.autocomplete
    background: white
    z-index: 1000
    overflow: auto
    box-sizing: border-box
    border: 1px solid color-grey
    & *
        font: inherit
    & > div
        padding: 0 4px
    & > div.selected
        background: color-table-selected
        cursor: pointer;
        &.empty
            background: white
            cursor: default
            font-style: italic
    & > .empty
        font-style: italic
    .suggested-title
        float: left
    .suggested-author
        float: right
    .suggested-container
        overflow: auto

//accordion
.accordion
    background-color: color-main
    color: color-light-text
    outline: none
    border: none
    cursor: pointer
    text-align: left
    font-size: 1.25em
    & span
        padding: 1.5vh 1vw
        vertical-align: middle
        display: inline-block
        overflow: hidden
        text-overflow: ellipsis
        white-space: nowrap

.accordion-panel
    padding: 1vh 1vw
    color: color-main-text
    border: 3px solid color-grey
    border-top: 0
    margin-bottom: 1vh
    display: none
    overflow: hidden
    .entry-block
        padding: 1vh 0
        vertical-align: top
    .entry-heading
        font-weight: 600
    p.entry-heading
        margin: 0
    p.entry-detail
        margin: 0

.text-accordion
    background-color: color-grey
    color: color-light-text
    font-size: 1em
    margin-top: 3px
    padding: 0
    span
        padding: 1.1vh 0.225vw

.text-accordion-panel
    border: none
    margin-bottom: 0
    span
        vertical-align: top
        padding-top: 5px

button
    background-color: color-main
    color: color-light-text
    outline: none
    border: none
    padding: 5px 7px
    font-size: 11px
    cursor: pointer
    input-appearance(none);

.accordion-container
    padding: 1vh 1vw

#entries-container
    width: 100%
    height: 100%
    border: 3px solid color-grey
    padding: 3vh 1vw

.entry-arrow
    background-image: url("/images/icons/keyboard_arrow_right-24px.svg")
    background-repeat: no-repeat
    background-position: center
    background-size: cover
    transition: transform 0.2s

.rotated
    transform: rotate(90deg)
    -moz-transform: rotate(90deg)
    -webkit-transform: rotate(90deg)
    transition: transform 0.2s
.pin
    background-image: url("/images/icons/push_pin_outline-24px.svg")
    background-repeat: no-repeat
    background-position: center
    background-size: 14px

.pinned
        background-image: url("/images/icons/push_pin-24px.svg")
        background-repeat: no-repeat
        background-position: center
        background-size: 14px

.pinned-print-and-csv
    float: right
    margin-top: 7px

//modal - thanks to w3schools
.modal
    display: none
    position: fixed
    z-index: 4
    left: 0
    top: 0
    width: 100vw
    height: 100vh
    overflow: hidden
    background-color: rgb(0, 0, 0)
    background-color: rgba(0, 0, 0, 0.4)
    .modal-content
        margin: 15% auto
        width: 60%
        .modal-header
            background-color: color-main
            color: color-light-text
            padding: 1.5vh 2vw
            font-weight: 400
            .modal-close
                color: white
                float: right
                font-size: 28px
                font-weight: bold
                &:hover
                    cursor: pointer
        .modal-body
            background-color: white
            color: color-main-text
            padding: 4vh 6vw
            button
                float: right
            #citation-table
                margin: 2vh 0
                tr
                    background-color: white
                    td
                        padding: 3px 20px 3px 0
                        vertical-align: top


.float-right
    float: right

.cite-box
    border: 2px solid color-grey
    padding: 2vh 2vw
    margin: 2vh 0
    p
        color: color-main-text

.cite-button:hover
    background-color: color-secondary

.copy:hover
    background-color: color-secondary

.hidden
    display: none

//copy popup
.popup
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

.popup .popuptext
    visibility: hidden;
    width: 160px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 8px 0;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;

.popup .popuptext::after
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;

.popup .show-popup
    visibility: visible;
    -webkit-animation: fadeIn 1s;
    animation: fadeIn 1s;

@keyframes fadeIn
    from {opacity: 0;}
    to {opacity:1 ;}

p
    margin-bottom: 12px

.example-record
    margin: 2vh 0

.italic
    font-style: italic

//responsive

//adapted from w3schools - css responsive
.row
    width: 100%
    position: relative
.row::after
    content: ""
    clear: both
    display: table

//for mobile
[class *= "col-"]
    width: 100%
for x in 1..12
    .offset-col-xs-{x}
        left: ((100/12) * x)%
        position: relative
for x in 1..12
    .col-xs-{x}
        width: ((100/12) * x) %
        display: inline-block

//desktop

@media only screen and (max-width: 599px)

    nav
        li:not(:first-child)
            display: none
        li.icon
            float: right
            display: block
            padding: 0
        &.responsive
            position: relative
            li.icon
                position: absolute
                right: 0
                top: 0
            li
                float: none
                display: block
                text-align: left
                a
                    width: 100%
                    max-width: 100%
                    background-color: white
                    &.nav-active
                        background-color: color-nav-selected

    #search-container
        padding: 0 10px
        form
            fieldset
                label
                    display: inline-block
                    width: 50%
                    &:hover
                        background-color: color-nav-hover
                        cursor: pointer;

    #search-results-heading-container
        padding: 0 10px
        h2
        h3
            width: 80%

    #search-results-container
        padding: 0 10px
        .pagination
            width: 100%
        .records-information
            float: none
            margin-top: 0
            a
                float: none
        #table-4-col thead th
            &:nth-child(1)
                width: 40%
            &:nth-child(2)
                width: 22%
            &:nth-child(3)
                width: 23%
            &:nth-child(4)
                width: 15%
        #table-3-col thead th
            &:nth-child(1)
                width: 50%
            &:nth-child(2)
                width: 25%
            &:nth-child(3)
                width: 25%

    .accordion
        .entry-quote
            display: none

    #sidebar
        display: none

    .pinned-header
        padding: 0 10px

@media only screen and (min-width: 600px)

    #search-results-container
        #table-4-col thead th
            &:nth-child(1)
                width: 45%
            &:nth-child(2)
                width: 22%
            &:nth-child(3)
                width: 23%
            &:nth-child(4)
                width: 10%
        #table-3-col thead th
            &:nth-child(1)
                width: 50%
            &:nth-child(2)
                width: 25%
            &:nth-child(3)
                width: 25%

    for x in 1..12
        .offset-col-s-{x}
            left: ((100/12) * x)%
            position: relative
    for x in 1..12
        .col-s-{x}
            width: ((100/12) * x) %
            display: inline-block


@media only screen and (min-width: 768px)

    button
        padding: 7px 10px
        font-size: inherit

    #search-results-container
        #table-4-col thead th
            &:nth-child(1)
                width: 45%
            &:nth-child(2)
                width: 22%
            &:nth-child(3)
                width: 23%
            &:nth-child(4)
                width: 10%
        #table-3-col thead th
            &:nth-child(1)
                width: 50%
            &:nth-child(2)
                width: 25%
            &:nth-child(3)
                width: 25%

    .pin
        background-size: 18px

    .pinned
        background-size: 18px

    for x in 1..12
        .offset-col-s-{x}
            left: ((100/12) * x)%
            position: relative
    for x in 1..12
        .col-s-{x}
            width: ((100/12) * x) %
            display: inline-block

@media only screen and (min-width: 992px)

    body
        font-size: fontsize-med

    #search-container
        form
            .form-block
                input
                    width: 95%
        #submit-query-button
            margin-top: 0
            padding: 2vh 2vw

    #search-results-heading-container
        #upper-results-header
            h2
                font-size: 1.125em
            h3
                font-size: 1.1em
            img
                width: 24px

    #search-results-container
        #table-4-col thead th
            &:nth-child(1)
                width: 45%
            &:nth-child(2)
                width: 22%
            &:nth-child(3)
                width: 23%
            &:nth-child(4)
                width: 10%
        #table-3-col thead th
            &:nth-child(1)
                width: 50%
            &:nth-child(2)
                width: 25%
            &:nth-child(3)
                width: 25%

    .pin
        background-size: 24px

    .pinned
        background-size: 24px

    for x in 1..12
        .offset-col-{x}
            left: ((100/12) * x)%
            position: relative
    for x in 1..12
        .col-{x}
            width: ((100/12) * x) %
            display: inline-block

@media only screen and (min-width: 1200px)

    body
        font-size: fontsize-large

    #search-results-heading-container
        #upper-results-header
            h2
                font-size: 1.25em
            h3
                font-size: 1.125em

    #search-results-container
        .texts-results-table
            thead th
                font-size: 1.125em
        #table-4-col thead th
            &:nth-child(1)
                width: 45%
            &:nth-child(2)
                width: 25%
            &:nth-child(3)
                width: 23%
            &:nth-child(4)
                width: 7%
        #table-3-col thead th
            &:nth-child(1)
                width: 50%
            &:nth-child(2)
                width: 25%
            &:nth-child(3)
                width: 25%

        .bibliography-table
            table-layout: fixed
            tbody tr td:nth-child(1)
                width: 150px

    .pin
        background-size: contain

    .pinned
        background-size: contain
